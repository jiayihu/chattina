!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";var r=e("./helpers"),o=e("./model"),i=e("./controller"),a=function(){r.init(),o.init(),i.init()};a()},{"./controller":2,"./helpers":4,"./model":5}],2:[function(e,t,n){"use strict";var r=e("./helpers"),o=e("./model"),i=e("pubsub-js"),a=e("notie"),s={};s.peopleList=e("./views/people-list"),s.chat=e("./views/chat"),s.account=e("./views/account");var u={},c=!0,l=function(){},d=function(){var e=o.people.getCurrentUser();return e.getIsAnon()?a.input("Please sign-in with a nickname: ","Sign-in","Cancel","text","Nickname",function(e){e.length<3||e.length>12?a.alert(3,"Sorry, username must be between 3 and 12 characters"):(o.people.login(e),document.qs(".account .sign").textContent="... Processing ...")}):o.people.logout(),!1},f=function(e){o.chat.setChatee(e)},p=function(e){o.chat.sendMsg(e)},y=function(){s.peopleList.init(),s.peopleList.bind("setChatee",f),s.chat.init(),s.chat.bind("submitMsg",p)},h=function(e){r.configMap(e,u)},v=function(){s.account.init(),s.account.bind("onSignClick",d),i.subscribe("login",y),c&&l()};t.exports={configModule:h,init:v}},{"./helpers":4,"./model":5,"./views/account":6,"./views/chat":7,"./views/people-list":8,notie:11,"pubsub-js":12}],3:[function(e,t,n){"use strict";var r,o=[{name:"Daenerys",_id:"id_1",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/pixeliris/128.jpg",role:"guest"},{name:"Jon",_id:"id_2",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/teclaro/128.jpg",role:"guest"},{name:"Sansa",_id:"id_3",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/brynn/128.jpg",role:"guest"},{name:"Arya",_id:"id_4",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/nuraika/128.jpg",role:"guest"},{name:"Cersei",_id:"id_5",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/kfriedson/128.jpg",role:"guest"},{name:"Joffrey",_id:"id_6",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/jfkingsley/128.jpg",role:"guest"}],i=6,a={},s=function(){return"id_"+String(i+=1)},u=function(e){window.setTimeout(function(){a.updateChat?a.updateChat({destId:"id_7",destName:"Alfred",senderId:"id_4",msgText:e}):u()},1e3)};window.emitMockMsg=u;var c=function(){r=window.setTimeout(function(){a.listChange?(a.listChange(o),u("Hi there from Arya!"),window.clearTimeout(r)):c()},500)},l={on:function(e,t){a[e]=t},emit:function(e,t){if("addUser"===e&&a.userupdate&&setTimeout(function(){var e={_id:s(),name:t.name,avatar:t.avatar};o.push(e),a.userupdate([e]),c()},1e3),"updateAvatar"===e&&a.listChange){var n=0;for(n=0;n<o.length;n+=1)o[n]._id===t.personId&&(o[n].avatar=t.avatar);a.listChange(o)}"updateChat"===e&&a.updateChat&&setTimeout(function(){t.senderId!=="id_"+i&&a.updateChat(t)},2e3),"leaveChat"===e&&(delete a.listChange,delete a.updateChat,c())}},d=function(){};t.exports={init:d,mockSio:l}},{}],4:[function(e,t,n){var r=e("notie"),o=function(e){r.alert(3,e,4)},i=function(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)},a=function(e,t){var n;for(n in e)t.hasOwnProperty(n)?e[n]instanceof Object?window.setConfigMap(e[n],t[n]):t[n]=e[n]:window.makeError("Wrong inputMap",'Property "'+n+'" is not available in configMap')},s=function(e,t){return e.parentNode?e.parentNode.classList.contains(t)?e.parentNode:s(e.parentNode,t):void 0},u=function(e,t,n,r){var o,i=e[t];if(void 0===i)throw new Error(t+" cannot be found.");var a=function(s){o||(o=s);var u=s-o,c=r/n;e[t]=Math.min(i+u/c,n),r>u&&window.requestAnimationFrame(a)};window.requestAnimationFrame(a)},c=function(){Document.prototype.qs=Document.prototype.querySelector,Element.prototype.qs=Element.prototype.querySelector};t.exports={animate:u,init:c,findParent:s,makeError:o,$ready:i,setConfigMap:a}},{notie:11}],5:[function(e,t,n){"use strict";var r,o,i,a=e("./fake"),s=e("localforage"),u=e("pubsub-js"),c={anonId:"a0",defaultAvatar:"https://s3.amazonaws.com/uifaces/faces/twitter/adellecharles/128.jpg"},l={anonUser:null,chatee:null,cidSerial:0,isConnected:!1,peopleCidMap:{},peopleDb:s.createInstance({name:"people"}),currentUser:null},d=!0,f={getIsUser:function(){return this.cid===l.currentUser.cid},getIsAnon:function(){return this.cid===l.anonUser.cid}},p=function(e){var t=l.peopleDb,n=e.cid,r=e.id,o=e.name,i=e.avatar,a=e.role;if(void 0===n||void 0===o)throw new Error("Client id and name are required");var s=Object.create(f);return s.cid=n,s.name=o,s.avatar=i,s.role=a,r&&(s.id=r),l.peopleCidMap[n]=s,t.setItem(n,s,function(e){if(e)throw e}),s},y=function(){return"c"+String(l.cidSerial++)},h=function(e){var t=r.getCurrentUser(),n=!1;return r.clearDb(),e.forEach(function(e){if(e.name){if(t&&t.id===e._id)return void(t.avatar=e.avatar);var r=p({cid:e._id,id:e._id,name:e.name,avatar:e.avatar,role:e.role});l.chatee&&l.chatee.id===e._id&&(n=!0,l.chatee=r)}}),l.chatee&&!n&&o.setChatee(""),l.peopleDb},v=function(e){var t=e[0];l.currentUser.cid=t._id,l.currentUser.id=t._id,l.currentUser.name=t.name,l.currentUser.avatar=t.avatar,l.peopleCidMap[t._id]=t,console.log("Hello "+t.name+" !"),o.join(),u.publish("login",l.currentUser)},m=function(e){h(e),u.publish("listChange",{newPeopleDb:r.getDb(),chatee:o.getChatee()})},g=function(e){console.log("New msg from backend: %o",e);var t=r.getByCid(e.senderId),n=!1;t&&(n=t.getIsUser()),(!l.chatee||!n&&e.senderId!==l.chatee.id)&&o.setChatee(e.senderId),u.publish("updateChat",{destId:e.destId,destName:e.destName,msgText:e.msgText,isSenderUser:n,sender:t})};r={clearDb:function(){var e=l.currentUser;l.peopleDb.clear(function(t){if(t)throw t;l.peopleDb.setItem(e.cid,e,function(e){if(e)throw e})}),l.peopleCidMap={},l.peopleCidMap[e.cid]=e},getByCid:function(e){return l.peopleCidMap[e]},getCurrentUser:function(){return l.currentUser},getDb:function(){return l.peopleCidMap},login:function(e){var t=a.mockSio;if(!t)throw new Error("No Socket.IO");l.currentUser=p({cid:y(),name:e,avatar:c.defaultAvatar}),t.on("userupdate",v),t.emit("addUser",{cid:l.currentUser.cid,name:l.currentUser.name,avatar:l.currentUser.avatar})},logout:function(){var e=l.currentUser;return o.leave(),l.currentUser=l.anonUser,r.clearDb(),u.publish("logout",e),!0}},o={getChatee:function(){return l.chatee},leave:function(){var e=a.mockSio;l.chatee=null,l.isConnected=!1,e&&e.emit("leaveChat")},join:function(){var e=a.mockSio;return l.isConnected?!1:l.currentUser.getIsAnon()?(console.warn("User must be signed in before joining chat"),!1):(e.on("listChange",m),e.on("updateChat",g),l.isConnected=!0,!0)},sendMsg:function(e){var t,n=a.mockSio;return n&&l.currentUser&&l.chatee?(t={destId:l.chatee.id,destName:l.chatee.name,senderId:l.currentUser.id,msgText:e},g(t),n.emit("updateChat",t),!0):!1},setChatee:function(e){var t=l.peopleCidMap[e];if(t){if(l.chatee&&l.chatee.id===t.id)return!1}else t="";return u.publish("setChatee",{oldChatee:l.chatee,newChatee:t}),l.chatee=t,!0},updateAvatar:function(e){var t=a.mockSio;t&&t.emit("updateAvatar",e)}},i=function(){l.anonUser=p({cid:c.anonId,id:c.anonId,name:"Anonymous",avatar:c.defaultAvatar}),l.currentUser=l.anonUser,d&&a.init(),window.chat=o,window.people=r},t.exports={chat:o,init:i,people:r}},{"./fake":3,localforage:10,"pubsub-js":12}],6:[function(e,t,n){"use strict";var r=e("pubsub-js"),o={accountHTML:null,signHTML:null},i=function(e,t){o.signHTML.textContent=t.name},a=function(){o.signHTML.textContent="Please sign-in"},s=function(e,t){"onSignClick"===e&&o.signHTML.addEventListener("click",t)},u=function(){o.accountHTML=document.getElementsByClassName("account")[0],o.signHTML=o.accountHTML.getElementsByClassName("sign")[0],r.subscribe("login",i),r.subscribe("logout",a)};t.exports={bind:s,init:u}},{"pubsub-js":12}],7:[function(e,t,n){"use strict";var r=e("../helpers"),o=e("pubsub-js"),i={chatHTML:null,chateeHTML:null,chateeNameHTML:null,chateeAvatarHTML:null,msgsHTML:null,sendFormHTML:null},a=function(){i.chatHTML=document.qs(".chat"),i.chateeHTML=i.chatHTML.getElementsByClassName("chatee")[0],i.chateeNameHTML=i.chateeHTML.getElementsByClassName("chatee__name")[0],i.chateeAvatarHTML=i.chateeHTML.getElementsByClassName("chatee__avatar")[0],i.msgsHTML=i.chatHTML.qs(".chat .msgs"),i.sendFormHTML=i.msgsHTML.nextElementSibling},s=function(e,t,n){var o=n?"msg--sent":"msg--received",a=document.createElement("li"),s=i.msgsHTML.lastElementChild;if(a.textContent=t,s.classList.contains(o))s.appendChild(a);else{var u=document.createElement("ul");u.classList.add("msg"),u.classList.add(o),u.appendChild(a),i.msgsHTML.appendChild(u)}r.animate(i.msgsHTML,"scrollTop",i.msgsHTML.scrollHeight,500)},u=function(e){var t=document.createElement("ul"),n=document.createElement("li");n.textContent=e,t.classList.add("msg"),t.classList.add("msg--alert"),t.appendChild(n),i.msgsHTML.appendChild(t),r.animate(i.msgsHTML,"scrollTop",i.msgsHTML.scrollHeight,500)},c=function(){for(;i.msgsHTML.lastChild;)i.msgsHTML.removeChild(i.msgsHTML.lastChild)},l=function(e,t){var n=t.oldChatee,r=t.newChatee;return r?(u("Now chatting with "+r.name),i.chateeNameHTML.textContent=r.name,i.chateeAvatarHTML.setAttribute("src",r.avatar),!0):(u(n?n.name+" has left the chat.":"Your friend has left the chat"),!0)},d=function(e,t){return t.sender?(s(t.sender.name,t.msgText,t.isSenderUser),!0):(u(t.msgText),!1)},f=function(){i.chateeNameHTML.textContent="Nobody",c()},p=function(e,t){"submitMsg"===e&&i.sendFormHTML.addEventListener("submit",function(e){e.preventDefault();var n=this.getElementsByClassName("box__input")[0],r=n.value;return""===r.trim()?!1:(t(r),n.value="",n.focus(),!0)})},y=function(){a(),o.subscribe("setChatee",l),o.subscribe("updateChat",d),o.subscribe("logout",f)};t.exports={bind:p,init:y}},{"../helpers":4,"pubsub-js":12}],8:[function(e,t,n){"use strict";var r=e("../helpers"),o=e("pubsub-js"),i={buttonHTML:null,peopleList:null},a='<li class="person {{isChatee}}" data-id="{{id}}"><img src="{{avatar}}" alt="{{name}}" class="person__avatar"/><span class="person-details"><span class="person__name">{{name}}</span><span class="person__role">{{role}}</span></span></li>',s=function(e,t){console.log("_onSetChatee: %o",t);var n=t.oldChatee,r=t.newChatee;return n&&i.peopleList.qs('.person[data-id="'+n.id+'"]').classList.remove("person--chatee"),i.peopleList.qs('.person[data-id="'+r.id+'"]').classList.add("person--chatee"),!0},u=function(e,t){var n,r,o,s=t.newPeopleDb,u=t.chatee,c="";for(var l in s)if(s.hasOwnProperty(l)){if(n=s[l],r=a,o="",n.getIsAnon()||n.getIsUser())continue;u&&u.id===n.id&&(o="person--chatee"),r=r.replace(/{{name}}/g,n.name),r=r.replace("{{id}}",n.id),r=r.replace("{{avatar}}",n.avatar),r=r.replace("{{role}}",n.role),r=r.replace("{{isChatee}}",o),c+=r}return c||(c="No one is online."),i.peopleList.innerHTML=c,!0},c=function(e,t){"setChatee"===e&&i.peopleList.addEventListener("click",function(e){var n,o=e.target.classList;return~e.target.className.indexOf("person")?(n=o.contains("person")?e.target.dataset.id:r.findParent(e.target,"person").dataset.id,void 0===n?!1:void t(n)):!1})},l=function(){i.buttonHTML=document.getElementsByClassName("toggle-list")[0],i.peopleList=document.qs(".content .people-list"),i.buttonHTML.addEventListener("click",function(){i.peopleList.parentNode.classList.toggle("visible")}),o.subscribe("setChatee",s),o.subscribe("listChange",u)};t.exports={bind:c,init:l}},{"../helpers":4,"pubsub-js":12}],9:[function(e,t,n){function r(){l=!1,s.length?c=s.concat(c):d=-1,c.length&&o()}function o(){if(!l){var e=setTimeout(r);l=!0;for(var t=c.length;t;){for(s=c,c=[];++d<t;)s&&s[d].run();d=-1,t=c.length}s=null,l=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function a(){}var s,u=t.exports={},c=[],l=!1,d=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new i(e,t)),1!==c.length||l||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],10:[function(e,t,n){(function(e,r){!function(){var t,n,o,i;!function(){var e={},r={};t=function(t,n,r){e[t]={deps:n,callback:r}},i=o=n=function(t){function o(e){if("."!==e.charAt(0))return e;for(var n=e.split("/"),r=t.split("/").slice(0,-1),o=0,i=n.length;i>o;o++){var a=n[o];if(".."===a)r.pop();else{if("."===a)continue;r.push(a)}}return r.join("/")}if(i._eak_seen=e,r[t])return r[t];if(r[t]={},!e[t])throw new Error("Could not find module "+t);for(var a,s=e[t],u=s.deps,c=s.callback,l=[],d=0,f=u.length;f>d;d++)"exports"===u[d]?l.push(a={}):l.push(n(o(u[d])));var p=c.apply(this,l);return r[t]=a||p}}(),t("promise/all",["./utils","exports"],function(e,t){"use strict";function n(e){var t=this;if(!r(e))throw new TypeError("You must pass an array to all.");return new t(function(t,n){function r(e){return function(t){i(e,t)}}function i(e,n){s[e]=n,0===--u&&t(s)}var a,s=[],u=e.length;0===u&&t([]);for(var c=0;c<e.length;c++)a=e[c],a&&o(a.then)?a.then(r(c),n):i(c,a)})}var r=e.isArray,o=e.isFunction;t.all=n}),t("promise/asap",["exports"],function(t){"use strict";function n(){return function(){e.nextTick(a)}}function o(){var e=0,t=new l(a),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function i(){return function(){d.setTimeout(a,1)}}function a(){for(var e=0;e<f.length;e++){var t=f[e],n=t[0],r=t[1];n(r)}f=[]}function s(e,t){var n=f.push([e,t]);1===n&&u()}var u,c="undefined"!=typeof window?window:{},l=c.MutationObserver||c.WebKitMutationObserver,d="undefined"!=typeof r?r:void 0===this?window:this,f=[];u="undefined"!=typeof e&&"[object process]"==={}.toString.call(e)?n():l?o():i(),t.asap=s}),t("promise/config",["exports"],function(e){"use strict";function t(e,t){return 2!==arguments.length?n[e]:void(n[e]=t)}var n={instrument:!1};e.config=n,e.configure=t}),t("promise/polyfill",["./promise","./utils","exports"],function(e,t,n){"use strict";function o(){var e;e="undefined"!=typeof r?r:"undefined"!=typeof window&&window.document?window:self;var t="Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var t;return new e.Promise(function(e){t=e}),a(t)}();t||(e.Promise=i)}var i=e.Promise,a=t.isFunction;n.polyfill=o}),t("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(e,t,n,r,o,i,a,s){"use strict";function u(e){if(!_(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof u))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],c(e,this)}function c(e,t){function n(e){y(t,e)}function r(e){v(t,e)}try{e(n,r)}catch(o){r(o)}}function l(e,t,n,r){var o,i,a,s,u=_(n);if(u)try{o=n(r),a=!0}catch(c){s=!0,i=c}else o=r,a=!0;p(t,o)||(u&&a?y(t,o):s?v(t,i):e===I?y(t,o):e===M&&v(t,o))}function d(e,t,n,r){var o=e._subscribers,i=o.length;o[i]=t,o[i+I]=n,o[i+M]=r}function f(e,t){for(var n,r,o=e._subscribers,i=e._detail,a=0;a<o.length;a+=3)n=o[a],r=o[a+t],l(t,n,r,i);e._subscribers=null}function p(e,t){var n,r=null;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(w(t)&&(r=t.then,_(r)))return r.call(t,function(r){return n?!0:(n=!0,void(t!==r?y(e,r):h(e,r)))},function(t){return n?!0:(n=!0,void v(e,t))}),!0}catch(o){return n?!0:(v(e,o),!0)}return!1}function y(e,t){e===t?h(e,t):p(e,t)||h(e,t)}function h(e,t){e._state===k&&(e._state=L,e._detail=t,b.async(m,e))}function v(e,t){e._state===k&&(e._state=L,e._detail=t,b.async(g,e))}function m(e){f(e,e._state=I)}function g(e){f(e,e._state=M)}var b=e.config,w=(e.configure,t.objectOrFunction),_=t.isFunction,x=(t.now,n.all),S=r.race,T=o.resolve,C=i.reject,E=a.asap;b.async=E;var k=void 0,L=0,I=1,M=2;u.prototype={constructor:u,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(e,t){var n=this,r=new this.constructor(function(){});if(this._state){var o=arguments;b.async(function(){l(n._state,r,o[n._state-1],n._detail)})}else d(this,r,e,t);return r},"catch":function(e){return this.then(null,e)}},u.all=x,u.race=S,u.resolve=T,u.reject=C,s.Promise=u}),t("promise/race",["./utils","exports"],function(e,t){"use strict";function n(e){var t=this;if(!r(e))throw new TypeError("You must pass an array to race.");return new t(function(t,n){for(var r,o=0;o<e.length;o++)r=e[o],r&&"function"==typeof r.then?r.then(t,n):t(r)})}var r=e.isArray;t.race=n}),t("promise/reject",["exports"],function(e){"use strict";function t(e){var t=this;return new t(function(t,n){n(e)})}e.reject=t}),t("promise/resolve",["exports"],function(e){"use strict";function t(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=this;return new t(function(t){t(e)})}e.resolve=t}),t("promise/utils",["exports"],function(e){"use strict";function t(e){return n(e)||"object"==typeof e&&null!==e}function n(e){return"function"==typeof e}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}var o=Date.now||function(){return(new Date).getTime()};e.objectOrFunction=t,e.isFunction=n,e.isArray=r,e.now=o}),n("promise/polyfill").polyfill()}(),function(e,r){"object"==typeof n&&"object"==typeof t?t.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof n?n.localforage=r():e.localforage=r()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=function(e){function t(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function o(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(f(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}function i(e){for(var t in s)if(s.hasOwnProperty(t)&&s[t]===e)return!0;return!1}var a={},s={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},u=[s.INDEXEDDB,s.WEBSQL,s.LOCALSTORAGE],c=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],l={description:"",driver:u.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},d=function(e){var t={};return t[s.INDEXEDDB]=!!function(){try{var t=t||e.indexedDB||e.webkitIndexedDB||e.mozIndexedDB||e.OIndexedDB||e.msIndexedDB;return"undefined"!=typeof e.openDatabase&&e.navigator&&e.navigator.userAgent&&/Safari/.test(e.navigator.userAgent)&&!/Chrome/.test(e.navigator.userAgent)?!1:t&&"function"==typeof t.open&&"undefined"!=typeof e.IDBKeyRange}catch(n){return!1}}(),t[s.WEBSQL]=!!function(){try{return e.openDatabase}catch(t){return!1}}(),t[s.LOCALSTORAGE]=!!function(){try{return e.localStorage&&"setItem"in e.localStorage&&e.localStorage.setItem}catch(t){return!1}}(),t}(e),f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},p=function(){function e(t){r(this,e),this.INDEXEDDB=s.INDEXEDDB,this.LOCALSTORAGE=s.LOCALSTORAGE,this.WEBSQL=s.WEBSQL,this._defaultConfig=o({},l),this._config=o({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return e.prototype.config=function(e){if("object"==typeof e){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e)"storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),this._config[t]=e[t];return"driver"in e&&e.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new Promise(function(t,n){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),s=new Error("Custom driver name already in use: "+e._driver);if(!e._driver)return void n(o);if(i(e._driver))return void n(s);for(var u=c.concat("_initStorage"),l=0;l<u.length;l++){var f=u[l];if(!f||!e[f]||"function"!=typeof e[f])return void n(o)}var p=Promise.resolve(!0);"_support"in e&&(p=e._support&&"function"==typeof e._support?e._support():Promise.resolve(!!e._support)),p.then(function(n){d[r]=n,a[r]=e,t()},n)}catch(y){n(y)}});return r.then(t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,r){var o=this,s=function(){if(i(e))switch(e){case o.INDEXEDDB:return new Promise(function(e,t){e(n(1))});case o.LOCALSTORAGE:return new Promise(function(e,t){e(n(2))});case o.WEBSQL:return new Promise(function(e,t){e(n(4))})}else if(a[e])return Promise.resolve(a[e]);return Promise.reject(new Error("Driver not found."))}();return s.then(t,r),s},e.prototype.getSerializer=function(e){var t=new Promise(function(e,t){e(n(3))});return e&&"function"==typeof e&&t.then(function(t){e(t)}),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return n.then(e,e),n},e.prototype.setDriver=function(e,t,n){function r(){i._config.driver=i.driver()}function o(e){return function(){function t(){for(;n<e.length;){var o=e[n];return n++,i._dbInfo=null,i._ready=null,i.getDriver(o).then(function(e){return i._extend(e),r(),i._ready=i._initStorage(i._config),i._ready})["catch"](t)}r();var a=new Error("No available storage method found.");return i._driverSet=Promise.reject(a),i._driverSet}var n=0;return t()}}var i=this;f(e)||(e=[e]);var a=this._getSupportedDrivers(e),s=null!==this._driverSet?this._driverSet["catch"](function(){return Promise.resolve()}):Promise.resolve();return this._driverSet=s.then(function(){var e=a[0];return i._dbInfo=null,i._ready=null,i.getDriver(e).then(function(e){i._driver=e._driver,r(),i._wrapLibraryMethodsWithReady(),i._initDriver=o(a)})})["catch"](function(){r();var e=new Error("No available storage method found.");return i._driverSet=Promise.reject(e),i._driverSet}),this._driverSet.then(t,n),this._driverSet},e.prototype.supports=function(e){return!!d[e]},e.prototype._extend=function(e){o(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;r>n;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0;e<c.length;e++)t(this,c[e])},e.prototype.createInstance=function(t){return new e(t)},e}();return new p}("undefined"!=typeof window?window:self);t["default"]=o,e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0;var n=function(e){function t(t,n){t=t||[],n=n||{};try{return new Blob(t,n)}catch(r){if("TypeError"!==r.name)throw r;for(var o=e.BlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder||e.WebKitBlobBuilder,i=new o,a=0;a<t.length;a+=1)i.append(t[a]);return i.getBlob(n.type)}}function n(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;t>o;o++)r[o]=e.charCodeAt(o);return n}function r(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("GET",e),r.withCredentials=!0,r.responseType="arraybuffer",r.onreadystatechange=function(){return 4===r.readyState?200===r.status?t({response:r.response,type:r.getResponseHeader("Content-Type")}):void n({status:r.status,response:r.response}):void 0},r.send()})}function o(e){return new Promise(function(n,o){var i=t([""],{type:"image/png"}),a=e.transaction([I],"readwrite");a.objectStore(I).put(i,"key"),a.oncomplete=function(){var t=e.transaction([I],"readwrite"),i=t.objectStore(I).get("key");i.onerror=o,i.onsuccess=function(e){var t=e.target.result,o=URL.createObjectURL(t);r(o).then(function(e){n(!(!e||"image/png"!==e.type))},function(){n(!1)}).then(function(){URL.revokeObjectURL(o)})}},a.onerror=a.onabort=o})["catch"](function(){return!1})}function i(e){return"boolean"==typeof k?Promise.resolve(k):o(e).then(function(e){return k=e})}function a(e){return new Promise(function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)})}function s(e){var r=n(atob(e.data));return t([r],{type:e.type})}function u(e){return e&&e.__local_forage_encoded_blob}function c(e){var t=this,n=t._initReady().then(function(){var e=L[t._dbInfo.name];return e&&e.dbReady?e.dbReady:void 0});return n.then(e,e),n}function l(e){var t=L[e.name],n={};n.promise=new Promise(function(e){n.resolve=e}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function d(e){var t=L[e.name],n=t.deferredOperations.pop();n&&n.resolve()}function f(e){function t(){return Promise.resolve()}var n=this,r={db:null};if(e)for(var o in e)r[o]=e[o];L||(L={});var i=L[r.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},L[r.name]=i),i.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=c);for(var a=[],s=0;s<i.forages.length;s++){var u=i.forages[s];u!==n&&a.push(u._initReady()["catch"](t))}var l=i.forages.slice(0);return Promise.all(a).then(function(){return r.db=i.db,p(r)}).then(function(e){return r.db=e,v(r,n._defaultConfig.version)?y(r):e}).then(function(e){r.db=i.db=e,n._dbInfo=r;for(var t=0;t<l.length;t++){var o=l[t];o!==n&&(o._dbInfo.db=r.db,o._dbInfo.version=r.version)}})}function p(e){return h(e,!1)}function y(e){return h(e,!0)}function h(t,n){return new Promise(function(r,o){if(t.db){if(!n)return r(t.db);l(t),t.db.close()}var i=[t.name];n&&i.push(t.version);var a=E.open.apply(E,i);n&&(a.onupgradeneeded=function(n){var r=a.result;try{r.createObjectStore(t.storeName),n.oldVersion<=1&&r.createObjectStore(I)}catch(o){if("ConstraintError"!==o.name)throw o;e.console.warn('The database "'+t.name+'" has been upgraded from version '+n.oldVersion+" to version "+n.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),a.onerror=function(){o(a.error)},a.onsuccess=function(){r(a.result),d(t)}})}function v(t,n){if(!t.db)return!0;var r=!t.db.objectStoreNames.contains(t.storeName),o=t.version<t.db.version,i=t.version>t.db.version;if(o&&(t.version!==n&&e.console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),i||r){if(r){var a=t.db.version+1;a>t.version&&(t.version=a)}return!0}return!1}function m(t,n){var r=this;"string"!=typeof t&&(e.console.warn(t+" used as a key, but it is not a string."),t=String(t));var o=new Promise(function(e,n){r.ready().then(function(){var o=r._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=i.get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),u(t)&&(t=s(t)),e(t)},a.onerror=function(){n(a.error)}})["catch"](n)});return C(o,n),o}function g(e,t){var n=this,r=new Promise(function(t,r){n.ready().then(function(){var o=n._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=i.openCursor(),c=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;u(r)&&(r=s(r));var o=e(r,n.key,c++);void 0!==o?t(o):n["continue"]()}else t()},a.onerror=function(){r(a.error)}})["catch"](r)});return C(r,t),r}function b(t,n,r){var o=this;"string"!=typeof t&&(e.console.warn(t+" used as a key, but it is not a string."),t=String(t));var s=new Promise(function(e,r){var s;o.ready().then(function(){return s=o._dbInfo,n instanceof Blob?i(s.db).then(function(e){return e?n:a(n)}):n}).then(function(n){var o=s.db.transaction(s.storeName,"readwrite"),i=o.objectStore(s.storeName);null===n&&(n=void 0),o.oncomplete=function(){void 0===n&&(n=null),e(n)},o.onabort=o.onerror=function(){var e=a.error?a.error:a.transaction.error;r(e)};var a=i.put(n,t)})["catch"](r)});return C(s,r),s}function w(t,n){var r=this;"string"!=typeof t&&(e.console.warn(t+" used as a key, but it is not a string."),t=String(t));var o=new Promise(function(e,n){r.ready().then(function(){var o=r._dbInfo,i=o.db.transaction(o.storeName,"readwrite"),a=i.objectStore(o.storeName),s=a["delete"](t);i.oncomplete=function(){e()},i.onerror=function(){n(s.error)},i.onabort=function(){var e=s.error?s.error:s.transaction.error;n(e)}})["catch"](n)});return C(o,n),o}function _(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var r=t._dbInfo,o=r.db.transaction(r.storeName,"readwrite"),i=o.objectStore(r.storeName),a=i.clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=a.error?a.error:a.transaction.error;n(e)}})["catch"](n)});return C(n,e),n}function x(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var r=t._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),i=o.count();i.onsuccess=function(){e(i.result)},i.onerror=function(){n(i.error)}})["catch"](n)});return C(n,e),n}function S(e,t){var n=this,r=new Promise(function(t,r){return 0>e?void t(null):void n.ready().then(function(){var o=n._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=!1,s=i.openCursor();s.onsuccess=function(){var n=s.result;return n?void(0===e?t(n.key):a?t(n.key):(a=!0,n.advance(e))):void t(null)},s.onerror=function(){r(s.error)}})["catch"](r)});return C(r,t),r}function T(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var r=t._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),i=o.openCursor(),a=[];i.onsuccess=function(){var t=i.result;return t?(a.push(t.key),void t["continue"]()):void e(a)},i.onerror=function(){n(i.error)}})["catch"](n)});return C(n,e),n}function C(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var E=E||e.indexedDB||e.webkitIndexedDB||e.mozIndexedDB||e.OIndexedDB||e.msIndexedDB;if(E){var k,L,I="local-forage-detect-blob-support",M={_driver:"asyncStorage",_initStorage:f,iterate:g,getItem:m,setItem:b,removeItem:w,clear:_,length:x,key:S,keys:T};return M}}("undefined"!=typeof window?window:self);t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){function t(e){var t=this,r={};if(e)for(var o in e)r[o]=e[o];return r.keyPrefix=r.name+"/",r.storeName!==t._defaultConfig.storeName&&(r.keyPrefix+=r.storeName+"/"),t._dbInfo=r,new Promise(function(e,t){e(n(3))}).then(function(e){return r.serializer=e,Promise.resolve()})}function r(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=f.length-1;n>=0;n--){var r=f.key(n);0===r.indexOf(e)&&f.removeItem(r)}});return d(n,e),n}function o(t,n){var r=this;"string"!=typeof t&&(e.console.warn(t+" used as a key, but it is not a string."),t=String(t));var o=r.ready().then(function(){var e=r._dbInfo,n=f.getItem(e.keyPrefix+t);return n&&(n=e.serializer.deserialize(n)),n});return d(o,n),o}function i(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo,r=t.keyPrefix,o=r.length,i=f.length,a=1,s=0;i>s;s++){var u=f.key(s);if(0===u.indexOf(r)){var c=f.getItem(u);if(c&&(c=t.serializer.deserialize(c)),c=e(c,u.substring(o),a++),void 0!==c)return c}}});return d(r,t),r}function a(e,t){var n=this,r=n.ready().then(function(){var t,r=n._dbInfo;try{t=f.key(e)}catch(o){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t});return d(r,t),r}function s(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=f.length,r=[],o=0;n>o;o++)0===f.key(o).indexOf(e.keyPrefix)&&r.push(f.key(o).substring(e.keyPrefix.length));
return r});return d(n,e),n}function u(e){var t=this,n=t.keys().then(function(e){return e.length});return d(n,e),n}function c(t,n){var r=this;"string"!=typeof t&&(e.console.warn(t+" used as a key, but it is not a string."),t=String(t));var o=r.ready().then(function(){var e=r._dbInfo;f.removeItem(e.keyPrefix+t)});return d(o,n),o}function l(t,n,r){var o=this;"string"!=typeof t&&(e.console.warn(t+" used as a key, but it is not a string."),t=String(t));var i=o.ready().then(function(){void 0===n&&(n=null);var e=n;return new Promise(function(r,i){var a=o._dbInfo;a.serializer.serialize(n,function(n,o){if(o)i(o);else try{f.setItem(a.keyPrefix+t,n),r(e)}catch(s){("QuotaExceededError"===s.name||"NS_ERROR_DOM_QUOTA_REACHED"===s.name)&&i(s),i(s)}})})});return d(i,r),i}function d(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var f=null;try{if(!(e.localStorage&&"setItem"in e.localStorage))return;f=e.localStorage}catch(p){return}var y={_driver:"localStorageWrapper",_initStorage:t,iterate:i,getItem:o,setItem:l,removeItem:c,clear:r,length:u,key:a,keys:s};return y}("undefined"!=typeof window?window:self);t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0;var n=function(e){function t(t,n){t=t||[],n=n||{};try{return new Blob(t,n)}catch(r){if("TypeError"!==r.name)throw r;for(var o=e.BlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder||e.WebKitBlobBuilder,i=new o,a=0;a<t.length;a+=1)i.append(t[a]);return i.getBlob(n.type)}}function n(e,t){var n="";if(e&&(n=e.toString()),e&&("[object ArrayBuffer]"===e.toString()||e.buffer&&"[object ArrayBuffer]"===e.buffer.toString())){var r,o=c;e instanceof ArrayBuffer?(r=e,o+=d):(r=e.buffer,"[object Int8Array]"===n?o+=p:"[object Uint8Array]"===n?o+=y:"[object Uint8ClampedArray]"===n?o+=h:"[object Int16Array]"===n?o+=v:"[object Uint16Array]"===n?o+=g:"[object Int32Array]"===n?o+=m:"[object Uint32Array]"===n?o+=b:"[object Float32Array]"===n?o+=w:"[object Float64Array]"===n?o+=_:t(new Error("Failed to get type for BinaryArray"))),t(o+i(r))}else if("[object Blob]"===n){var a=new FileReader;a.onload=function(){var n=s+e.type+"~"+i(this.result);t(c+f+n)},a.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(u){console.error("Couldn't convert value into a JSON string: ",e),t(null,u)}}function r(e){if(e.substring(0,l)!==c)return JSON.parse(e);var n,r=e.substring(x),i=e.substring(l,x);if(i===f&&u.test(r)){var a=r.match(u);n=a[1],r=r.substring(a[0].length)}var s=o(r);switch(i){case d:return s;case f:return t([s],{type:n});case p:return new Int8Array(s);case y:return new Uint8Array(s);case h:return new Uint8ClampedArray(s);case v:return new Int16Array(s);case g:return new Uint16Array(s);case m:return new Int32Array(s);case b:return new Uint32Array(s);case w:return new Float32Array(s);case _:return new Float64Array(s);default:throw new Error("Unkown type: "+i)}}function o(e){var t,n,r,o,i,s=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),d=new Uint8Array(l);for(t=0;u>t;t+=4)n=a.indexOf(e[t]),r=a.indexOf(e[t+1]),o=a.indexOf(e[t+2]),i=a.indexOf(e[t+3]),d[c++]=n<<2|r>>4,d[c++]=(15&r)<<4|o>>2,d[c++]=(3&o)<<6|63&i;return l}function i(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=a[n[t]>>2],r+=a[(3&n[t])<<4|n[t+1]>>4],r+=a[(15&n[t+1])<<2|n[t+2]>>6],r+=a[63&n[t+2]];return n.length%3===2?r=r.substring(0,r.length-1)+"=":n.length%3===1&&(r=r.substring(0,r.length-2)+"=="),r}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s="~~local_forage_type~",u=/^~~local_forage_type~([^~]+)~/,c="__lfsc__:",l=c.length,d="arbf",f="blob",p="si08",y="ui08",h="uic8",v="si16",m="si32",g="ur16",b="ui32",w="fl32",_="fl64",x=l+d.length,S={serialize:n,deserialize:r,stringToBuffer:o,bufferToString:i};return S}("undefined"!=typeof window?window:self);t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){function t(e){var t=this,r={db:null};if(e)for(var o in e)r[o]="string"!=typeof e[o]?e[o].toString():e[o];var i=new Promise(function(n,o){try{r.db=f(r.name,String(r.version),r.description,r.size)}catch(i){return t.setDriver(t.LOCALSTORAGE).then(function(){return t._initStorage(e)}).then(n)["catch"](o)}r.db.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS "+r.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){t._dbInfo=r,n()},function(e,t){o(t)})})});return new Promise(function(e,t){e(n(3))}).then(function(e){return r.serializer=e,i})}function r(t,n){var r=this;"string"!=typeof t&&(e.console.warn(t+" used as a key, but it is not a string."),t=String(t));var o=new Promise(function(e,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){r.executeSql("SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[t],function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),e(r)},function(e,t){n(t)})})})["catch"](n)});return d(o,n),o}function o(e,t){var n=this,r=new Promise(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){n.executeSql("SELECT * FROM "+o.storeName,[],function(n,r){for(var i=r.rows,a=i.length,s=0;a>s;s++){var u=i.item(s),c=u.value;if(c&&(c=o.serializer.deserialize(c)),c=e(c,u.key,s+1),void 0!==c)return void t(c)}t()},function(e,t){r(t)})})})["catch"](r)});return d(r,t),r}function i(t,n,r){var o=this;"string"!=typeof t&&(e.console.warn(t+" used as a key, but it is not a string."),t=String(t));var i=new Promise(function(e,r){o.ready().then(function(){void 0===n&&(n=null);var i=n,a=o._dbInfo;a.serializer.serialize(n,function(n,o){o?r(o):a.db.transaction(function(o){o.executeSql("INSERT OR REPLACE INTO "+a.storeName+" (key, value) VALUES (?, ?)",[t,n],function(){e(i)},function(e,t){r(t)})},function(e){e.code===e.QUOTA_ERR&&r(e)})})})["catch"](r)});return d(i,r),i}function a(t,n){var r=this;"string"!=typeof t&&(e.console.warn(t+" used as a key, but it is not a string."),t=String(t));var o=new Promise(function(e,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){r.executeSql("DELETE FROM "+o.storeName+" WHERE key = ?",[t],function(){e()},function(e,t){n(t)})})})["catch"](n)});return d(o,n),o}function s(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("DELETE FROM "+r.storeName,[],function(){e()},function(e,t){n(t)})})})["catch"](n)});return d(n,e),n}function u(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,t){n(t)})})})["catch"](n)});return d(n,e),n}function c(e,t){var n=this,r=new Promise(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){n.executeSql("SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)},function(e,t){r(t)})})})["catch"](r)});return d(r,t),r}function l(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);e(r)},function(e,t){n(t)})})})["catch"](n)});return d(n,e),n}function d(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var f=e.openDatabase;if(f){var p={_driver:"webSQLStorage",_initStorage:t,iterate:o,getItem:r,setItem:i,removeItem:a,clear:s,length:u,key:c,keys:l};return p}}("undefined"!=typeof window?window:self);t["default"]=r,e.exports=t["default"]}])})}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:9}],11:[function(e,t,n){var r=function(){function e(){Z=document.body.style.height,$=document.body.style.overflow,document.body.style.height="100%",document.body.style.overflow="hidden"}function t(){document.body.style.height=Z,document.body.style.overflow=$}function n(e,t,n){document.activeElement.blur(),ae++,setTimeout(function(){ae--},1e3*h+10),1==ae&&(ie?(clearTimeout(re),clearTimeout(oe),o(function(){r(e,t,n)})):r(e,t,n))}function r(e,t,n){ie=!0;var r=0;if("undefined"==typeof n)var r=3e3;else r=1>n?1e3:1e3*n;switch(e){case 1:ee.style.backgroundColor=m;break;case 2:ee.style.backgroundColor=g;break;case 3:ee.style.backgroundColor=b;break;case 4:ee.style.backgroundColor=w}ne.innerHTML=t,ee.style.top="-10000px",ee.style.display="table",ee.style.top="-"+ee.offsetHeight-5+"px",re=setTimeout(function(){d&&(ee.style.boxShadow="0px 0px 10px 0px rgba(0,0,0,0.5)"),ee.style.MozTransition="all "+h+"s ease",ee.style.WebkitTransition="all "+h+"s ease",ee.style.transition="all "+h+"s ease",ee.style.top=0,oe=setTimeout(function(){o(function(){})},r)},20)}function o(e){ee.style.top="-"+ee.offsetHeight-5+"px",setTimeout(function(){d&&(ee.style.boxShadow=""),ee.style.MozTransition="",ee.style.WebkitTransition="",ee.style.transition="",ee.style.top="-10000px",ie=!1,e&&e()},1e3*h+10)}function i(e,t,n,r){document.activeElement.blur(),ie?(clearTimeout(re),clearTimeout(oe),o(function(){a(e,t,n,r)})):a(e,t,n,r)}function a(t,n,r,o){function i(){fe.innerHTML=t,pe.innerHTML=n,ye.innerHTML=r,se.style.top="-10000px",se.style.display="table",se.style.top="-"+se.offsetHeight-5+"px",ue.style.display="block",setTimeout(function(){d&&(se.style.boxShadow="0px 0px 10px 0px rgba(0,0,0,0.5)"),se.style.MozTransition="all "+h+"s ease",se.style.WebkitTransition="all "+h+"s ease",se.style.transition="all "+h+"s ease",se.style.top=0,ue.style.opacity="0.75",setTimeout(function(){he=!0},1e3*h+10)},20)}e(),le.onclick=function(){s(),setTimeout(function(){o()},1e3*h+10)},he?(s(),setTimeout(function(){i()},1e3*h+10)):i()}function s(){se.style.top="-"+se.offsetHeight-5+"px",ue.style.opacity="0",setTimeout(function(){d&&(se.style.boxShadow=""),se.style.MozTransition="",se.style.WebkitTransition="",se.style.transition="",ue.style.display="none",se.style.top="-10000px",t(),he=!1},1e3*h+10)}function u(e,t,n,r,i,a,s){document.activeElement.blur(),setTimeout(function(){we.focus()},1e3*h),we.setAttribute("type",r),we.setAttribute("placeholder",i),we.value="","undefined"!=typeof s&&s.length>0&&(we.value=s),ie?(clearTimeout(re),clearTimeout(oe),o(function(){c(e,t,n,a)})):c(e,t,n,a)}function c(t,n,r,o){function i(){Se.innerHTML=t,Te.innerHTML=n,Ce.innerHTML=r,ve.style.top="-10000px",ve.style.display="table",ve.style.top="-"+ve.offsetHeight-5+"px",me.style.display="block",setTimeout(function(){d&&(ve.style.boxShadow="0px 0px 10px 0px rgba(0,0,0,0.5)"),ve.style.MozTransition="all "+h+"s ease",ve.style.WebkitTransition="all "+h+"s ease",ve.style.transition="all "+h+"s ease",ve.style.top=0,me.style.opacity="0.55",setTimeout(function(){Ee=!0},1e3*h+10)},20)}e(),_e.onclick=function(){l(),setTimeout(function(){o(we.value)},1e3*h+10)},Ee?(l(),setTimeout(function(){i()},1e3*h+10)):i()}function l(){ve.style.top="-"+ve.offsetHeight-5+"px",me.style.opacity="0",setTimeout(function(){d&&(ve.style.boxShadow=""),ve.style.MozTransition="",ve.style.WebkitTransition="",ve.style.transition="",me.style.display="none",ve.style.top="-10000px",t(),Ee=!1},1e3*h+10)}var d=!1,f="18px",p="18px",y=600,h=.3,v=!0,m="#57BF57",g="#E3B771",b="#F44336",w="#4D82D6",_="#FFF",x="#21363b",S="#89c987",T="#e84a5f",C="#FFF",E="#FFF",k="#FFF",L="notie-alert-outer",I="notie-alert-inner",M="notie-alert-text",A="notie-confirm-outer",P="notie-confirm-inner",N="notie-confirm-background",O="notie-confirm-yes",z="notie-confirm-no",j="notie-confirm-text",D="notie-confirm-yes-text",H="notie-confirm-no-text",B="notie-input-outer",U="notie-input-inner",R="notie-input-background",F="notie-input-div",W="notie-input-field",q="notie-input-yes",Q="notie-input-no",G="notie-input-text",X="notie-input-yes-text",Y="notie-input-no-text",J=function(e){window.innerWidth<=y?e.style.fontSize=f:e.style.fontSize=p},K=500,V=function(e,t,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||e.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(o,i)}};window.addEventListener("keydown",function(e){var t=13==e.which||13==e.keyCode,n=27==e.which||27==e.keyCode;ie?(t||n)&&(clearTimeout(re),clearTimeout(oe),o()):he?t?le.click():n&&de.click():Ee&&(t?_e.click():n&&xe.click())}),"undefined"==typeof Element.prototype.addEventListener&&(Element.prototype.addEventListener=Window.prototype.addEventListener=function(e,t){return e="on"+e,this.attachEvent(e,t)});var Z,$,ee=document.createElement("div");ee.id=L,ee.style.position="fixed",ee.style.top="0",ee.style.left="0",ee.style.zIndex="999999999",ee.style.height="auto",ee.style.width="100%",ee.style.display="none",ee.style.textAlign="center",ee.style.cursor="default",ee.style.MozTransition="",ee.style.WebkitTransition="",ee.style.transition="",ee.style.cursor="pointer",ee.onclick=function(){clearTimeout(re),clearTimeout(oe),o()};var te=document.createElement("div");te.id=I,te.style.padding="20px",te.style.display="table-cell",te.style.verticalAlign="middle",ee.appendChild(te);var ne=document.createElement("span");ne.id=M,ne.style.color=_,window.innerWidth<=y?ne.style.fontSize=f:ne.style.fontSize=p,window.addEventListener("resize",V(J.bind(null,ne),K),!0),te.appendChild(ne),document.body.appendChild(ee);var re,oe,ie=!1,ae=0,se=document.createElement("div");se.id=A,se.style.position="fixed",se.style.top="0",se.style.left="0",se.style.zIndex="999999998",se.style.height="auto",se.style.width="100%",se.style.display="none",se.style.textAlign="center",se.style.MozTransition="",se.style.WebkitTransition="",se.style.transition="";var ue=document.createElement("div");ue.id=N,ue.style.position="fixed",ue.style.top="0",ue.style.left="0",ue.style.zIndex="999999997",ue.style.height="100%",ue.style.width="100%",ue.style.display="none",ue.style.backgroundColor="white",ue.style.MozTransition="all "+h+"s ease",ue.style.WebkitTransition="all "+h+"s ease",ue.style.transition="all "+h+"s ease",ue.style.opacity="0",ue.onclick=function(){v&&s()};var ce=document.createElement("div");ce.id=P,ce.style.boxSizing="border-box",ce.style.width="100%",ce.style.padding="20px",ce.style.display="block",ce.style.cursor="default",ce.style.backgroundColor=x,se.appendChild(ce);var le=document.createElement("div");le.id=O,le.style.cssFloat="left",le.style.height="50px",le.style.lineHeight="50px",le.style.width="50%",le.style.cursor="pointer",le.style.backgroundColor=S,se.appendChild(le);var de=document.createElement("div");de.id=z,de.style.cssFloat="right",de.style.height="50px",de.style.lineHeight="50px",de.style.width="50%",de.style.cursor="pointer",de.style.backgroundColor=T,de.onclick=function(){s()},se.appendChild(de);var fe=document.createElement("span");fe.id=j,fe.style.color=C,window.innerWidth<=y?fe.style.fontSize=f:fe.style.fontSize=p,window.addEventListener("resize",V(J.bind(null,fe),K),!0),ce.appendChild(fe);var pe=document.createElement("span");pe.id=D,pe.style.color=E,window.innerWidth<=y?pe.style.fontSize=f:pe.style.fontSize=p,window.addEventListener("resize",V(J.bind(null,pe),K),!0),le.appendChild(pe);var ye=document.createElement("span");ye.id=H,ye.style.color=k,window.innerWidth<=y?ye.style.fontSize=f:ye.style.fontSize=p,window.addEventListener("resize",V(J.bind(null,ye),K),!0),de.appendChild(ye),document.body.appendChild(se),document.body.appendChild(ue);var he=!1,ve=document.createElement("div");ve.id=B,ve.style.position="fixed",ve.style.top="0",ve.style.left="0",ve.style.zIndex="999999998",ve.style.height="auto",ve.style.width="100%",ve.style.display="none",ve.style.textAlign="center",ve.style.MozTransition="",ve.style.WebkitTransition="",ve.style.transition="";var me=document.createElement("div");me.id=R,me.style.position="fixed",me.style.top="0",me.style.left="0",me.style.zIndex="999999997",me.style.height="100%",me.style.width="100%",me.style.display="none",me.style.backgroundColor="#000",me.style.MozTransition="all "+h+"s ease",me.style.WebkitTransition="all "+h+"s ease",me.style.transition="all "+h+"s ease",me.style.opacity="0",me.onclick=function(){v&&l()};var ge=document.createElement("div");ge.id=U,ge.style.boxSizing="border-box",ge.style.width="100%",ge.style.padding="20px",ge.style.display="block",ge.style.cursor="default",ge.style.backgroundColor=x,ve.appendChild(ge);var be=document.createElement("div");be.id=F,be.style.boxSizing="border-box",be.style.height="55px",be.style.width="100%",be.style.display="block",be.style.cursor="default",be.style.backgroundColor="#FFF",ve.appendChild(be);var we=document.createElement("input");we.id=W,we.setAttribute("autocomplete","off"),we.setAttribute("autocorrect","off"),we.setAttribute("autocapitalize","off"),we.setAttribute("spellcheck","false"),we.style.boxSizing="border-box",we.style.height="55px",we.style.width="100%",we.style.textAlign="center",we.style.textIndent="10px",we.style.paddingRight="10px",we.style.outline="0",we.style.border="0",we.style.fontFamily="inherit",we.style.fontSize=p,window.innerWidth<=y?we.style.fontSize=f:we.style.fontSize=p,window.addEventListener("resize",V(J.bind(null,we),K),!0),be.appendChild(we);var _e=document.createElement("div");_e.id=q,_e.style.cssFloat="left",_e.style.height="50px",_e.style.lineHeight="50px",_e.style.width="50%",_e.style.cursor="pointer",_e.style.backgroundColor=S,ve.appendChild(_e);var xe=document.createElement("div");xe.id=Q,xe.style.cssFloat="right",xe.style.height="50px",xe.style.lineHeight="50px",xe.style.width="50%",xe.style.cursor="pointer",xe.style.backgroundColor=T,xe.onclick=function(){l()},ve.appendChild(xe);var Se=document.createElement("span");Se.id=G,Se.style.color=C,window.innerWidth<=y?Se.style.fontSize=f:Se.style.fontSize=p,window.addEventListener("resize",V(J.bind(null,Se),K),!0),ge.appendChild(Se);var Te=document.createElement("span");Te.id=X,Te.style.color=E,window.innerWidth<=y?Te.style.fontSize=f:Te.style.fontSize=p,window.addEventListener("resize",V(J.bind(null,Te),K),!0),_e.appendChild(Te);var Ce=document.createElement("span");Ce.id=Y,Ce.style.color=k,window.innerWidth<=y?Ce.style.fontSize=f:Ce.style.fontSize=p,window.addEventListener("resize",V(J.bind(null,Ce),K),!0),xe.appendChild(Ce),document.body.appendChild(ve),document.body.appendChild(me);var Ee=!1;return{alert:n,confirm:i,input:u}}();"undefined"!=typeof t&&t&&(t.exports=r)},{}],12:[function(e,t,n){!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["exports"],t):"object"==typeof n&&t(n);var r={};e.PubSub=r,t(r)}("object"==typeof window&&window||this,function(e){"use strict";function t(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function n(e){return function(){throw e}}function r(e,t,r){try{e(t,r)}catch(o){setTimeout(n(o),0)}}function o(e,t,n){e(t,n)}function i(e,t,n,i){var a,s=c[t],u=i?o:r;if(c.hasOwnProperty(t))for(a in s)s.hasOwnProperty(a)&&u(s[a],e,n)}function a(e,t,n){return function(){var r=String(e),o=r.lastIndexOf(".");for(i(e,e,t,n);-1!==o;)r=r.substr(0,o),o=r.lastIndexOf("."),i(e,r,t,n)}}function s(e){for(var n=String(e),r=Boolean(c.hasOwnProperty(n)&&t(c[n])),o=n.lastIndexOf(".");!r&&-1!==o;)n=n.substr(0,o),o=n.lastIndexOf("."),r=Boolean(c.hasOwnProperty(n)&&t(c[n]));return r}function u(e,t,n,r){var o=a(e,t,r),i=s(e);return i?(n===!0?o():setTimeout(o,0),!0):!1}var c={},l=-1;e.publish=function(t,n){return u(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return u(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,t){if("function"!=typeof t)return!1;c.hasOwnProperty(e)||(c[e]={});var n="uid_"+String(++l);return c[e][n]=t,n},e.clearAllSubscriptions=function(){c={}},e.clearSubscriptions=function(e){var t;for(t in c)c.hasOwnProperty(t)&&0===t.indexOf(e)&&delete c[t]},e.unsubscribe=function(e){var t,n,r,o="string"==typeof e&&c.hasOwnProperty(e),i=!o&&"string"==typeof e,a="function"==typeof e,s=!1;if(o)return void delete c[e];for(t in c)if(c.hasOwnProperty(t)){if(n=c[t],i&&n[e]){delete n[e],s=e;break}if(a)for(r in n)n.hasOwnProperty(r)&&n[r]===e&&(delete n[r],s=!0)}return s}})},{}]},{},[1]);